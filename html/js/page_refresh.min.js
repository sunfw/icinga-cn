function icinga_get_scroll_position(){var a;if(typeof window.pageYOffset!="undefined"){a=window.pageYOffset}else{if(typeof document.documentElement.scrollTop!="undefined"){a=document.documentElement.scrollTop}else{a=document.body.scrollTop}}return a}function icinga_reload_scroll_position(){scroll_pos=icinga_get_scroll_position();if(scroll_pos<0){window.location.href=window.location.href}else{url=window.location.href;url_c=url.replace(/[\?&]scroll=(\d+)/,"");q=url_c.indexOf("?")===-1?"?":"&";window.location.href=url_c+q+"scroll="+scroll_pos}}function icinga_set_scroll_position(){var b=window.location.search;var a;if(b){a=/scroll=(\d+)/.exec(b);if(a){scroll_pos=a[1];window.scrollTo(0,scroll_pos)}}}function icinga_update_text(b,a){if(document.getElementById(b)!=null){document.getElementById(b).innerHTML=a}}function icinga_update_refresh_counter(){if(counter_seconds<=0){icinga_update_text("refresh_text","现在更新");icinga_reload_scroll_position()}else{if(do_refresh){icinga_update_text("refresh_text"," 将于 "+counter_seconds+" 秒后更新"+((counter_seconds!=1)?"":""));icinga_update_text("refresh_button","[暂停]");counter_seconds--;setTimeout("icinga_update_refresh_counter()",1000)}else{icinga_update_text("refresh_text","暂停更新");icinga_update_text("refresh_button","[继续]")}}}function icinga_reset_counter(){counter_seconds=refresh_rate}function icinga_toggle_refresh(){do_refresh=(do_refresh)?false:true;icinga_reset_counter();icinga_update_refresh_counter()}function icinga_do_refresh(){do_refresh=true;counter_seconds=0;icinga_update_refresh_counter()}function icinga_stop_refresh(){do_refresh=false;icinga_update_refresh_counter()}function icinga_start_refresh(){do_refresh=true;icinga_update_refresh_counter()}setTimeout("icinga_reset_counter()",100);setTimeout("icinga_update_refresh_counter()",100);if(window.addEventListener){window.addEventListener("load",icinga_set_scroll_position,false)}else{if(window.attachEvent){window.attachEvent("onload",icinga_set_scroll_position)}};